## 计算机网络模型

### 1.OSI 七层模型标准

**七层模型标准制定的原则或者说核心思想**

- 在通信系统中通信的任意两台主机能够理解对方的语言 --- 根据约定的协议发送接收数据

- 希望通信系统模块化,每层负责一定的内容并对上层提供接口 --- 层与层之间解耦,方便开发,提高复用率

**启发与标准化**

**书接上回,在因特网的发展历史里面我们说了,起初的互联网是美国军方内部玩的,后来将 TCP/IP 协议实现,并标准化在军方的通信系统上,但并不是世界标准,而 OSI 七层模型就参考 TCP/IP 协议,国际标准化组织(ISO)和国际电报电话咨询委员会(CCITT)联合提出并制定了这个七层的 OSI 参考模型,这只是抽象的参考模型,目前被广泛使用的 TCP/IP 协议并不是七层,而是五层,暂时没有七层的模型在世界范围内有很大的影响,但分析七层模型对 TCP/IP 五层应用了的模型理解很重要**

![OSI](https://pic1.zhimg.com/80/v2-854e3df8ea850c977c30cb1deb1f64db_720w.jpg?source=1940ef5c)

**层与职责**

1. 物理层

- 功能:为数据链路层提供服务,利用物理媒介实现比特流的透明传输
- 传输单位:比特流(byte),高低电压信号
- 协议:IEEE802.3z,IEEE802.3ae
- 实物:网线,集线器,中继机

2. 数据链路层

- 功能:为网络层提供服务,通过各种控制协议,将有差错的物理信道变为无差错的、能可靠传输数据帧的数据链路,该层通常又被分为介质访问控制（MAC）和逻辑链路控制（LLC）两个子层,MAC 子层的主要任务是解决共享型网络中多用户对信道竞争的问题,完成网络介质的访问控制；LLC 子层的主要任务是建立和维护网络连接,执行差错校验、流量控制和链路控制
- 传输单位:数据帧(frame)
- 协议:Ethernet,以太网
- 实物:网卡,网桥

3. 网络层

- 功能:通过路由选择算法,为报文或分组通过通信子网选择最适当的路径
- 传输单位:数据包(package)
- 协议:IPV4/IPV6
- 实体:路由器,防火墙,IP

4. 传输层

- 功能:向用户提供可靠的端到端的差错和流量控制,保证报文的正确传输
- 传输单位:数据段(segment)
- 协议:TCP/UDP
- 实体:进程,端口

5. 会话层

- 功能:组织和协调两个会话进程之间的通信,并对数据交换进行管理.
- 传输单位:SPDU
- 无具体实现协议
- 实体:服务器验证登录

6. 表示层

- 功能:处理用户信息的表示问题,如编码、数据格式转换和加密解密,解压缩等
- 传输单位:PPDU
- 无具体实现协议
- 实体:URL 加密,口令加密

7. 应用层

- 功能:直接向用户提供服务,完成用户希望在网络上完成的各种工作
- 传输单位:APDU
- 协议:HTTP,FTP,TFTP,SMTP,DNS
- 实体:各种网络服务

![OSI](https://upload-images.jianshu.io/upload_images/7541336-906a34d0af992f70.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)
![OSI](https://img1.sycdn.imooc.com/5aaa117d0001711f06930417.jpg)
![OSI](https://upload-images.jianshu.io/upload_images/7541336-8dfb37470d86e251.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)

### 2.TCP/IP 4/5 层模型

![TCP/IP](https://upload-images.jianshu.io/upload_images/7541336-b87f3c6f5235b56d.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)

      ┌────------────┐┌─┬─┬─-┬─┬─-┬─┬─-┬─┬─-┬─┬─-┐┌─┬─┬─-┬─┬─-┬─┬─-┬─┬─-┬─┬─-┐
     │ 　　　　　　　　 ││ Ｄ │ Ｆ │ Ｗ │ Ｆ │ Ｈ │ Ｇ │ Ｔ │ Ｉ │ Ｓ │ Ｕ │ 　 │
　　 │ 　　　　　　　　 ││ Ｎ │ Ｉ │ Ｈ │ Ｔ │ Ｔ │ Ｏ │ Ｅ │ Ｒ │ Ｍ │ Ｓ │ 其 │
　　 │ 第四层,应用层　 ││ Ｓ │ Ｎ │ Ｏ │ Ｐ │ Ｔ │ Ｐ │ Ｌ │ Ｃ │ Ｔ │ Ｅ │ 　 │
　　 │ 　　　　　　　　 ││ 　 │ Ｇ │ Ｉ │ 　 │ Ｐ │ Ｈ │ Ｎ │ 　 │ Ｐ │ Ｎ │ 　 │
　　 │ 　　　　　　　　 ││ 　 │ Ｅ │ Ｓ │ 　 │ 　 │ Ｅ │ Ｅ │ 　 │ 　 │ Ｅ │ 它 │
　　 │ 　　　　　　　　 ││ 　 │ Ｒ │ 　 │ 　 │ 　 │ Ｒ │ Ｔ │ 　 │ 　 │ Ｔ │ 　 │
　　 └───────------─┘└─┴─┴─-┴─┴─-┴─┴─-┴─┴─-┴─┴-─┘┴─┴─-┴─┴─-┴─┴-─┘┴─┴─-┴─┴─-┴─┴
　　 ┌───────-----─┐┌─────────-------┬──--------─────────┐
　　 │ 第三层,传输层││ 　　TCP　      |       　UDP       │
　　 └───────-----─┘└────────-------─┴──────────--------─┘
　　 ┌───────-----─┐┌───----──┬───---─┬────────-------──┐
　　 │ 　　　　　　 ││  　　       　 │ ＩＣＭＰ │ 　　 　 │
　　 │ 第二层,网间层││    　　　　　  └──---──┘ 　 　　　 │
　　 │ 　　　　　　 ││ 　　    　　　　　ＩＰ　　　　　　　 │
　　 └────────-----┘└────────────────────-------------─-┘
　　 ┌────────-----┐┌─────────-------┬──────--------─────┐
　　 │ 第一层,网络接口 ││ ＡＲＰ／ＲＡＲＰ　  │　其它 　　 │
　　 └────────------┘└─────────------┴─────--------──────┘

**TCP/IP 协议被组织成四个概念层,其中有三层对应于 ISO 参考模型中的相应层.ICP/IP 协议族并不包含物理层和数据链路层,因此它不能独立完成整个计算机网络系统的功能,必须与许多其他的协议协同工作.**

**TCP/IP 分层模型的四个协议层分别完成以下的功能**

1. 第一层:网络接口层
   **包括用于协作 IP 数据在已有网络介质上传输的协议.实际上 TCP/IP 标准并不定义与 ISO 数据链路层和物理层相对应的功能.相反,它定义像地址解析协议(Address Resolution Protocol,ARP)这样的协议,提供 TCP/IP 协议的数据结构和实际物理硬件之间的接口.**
2. 第二层:网间层
   **对应于 OSI 七层参考模型的网络层.本层包含 IP 协议、RIP 协议(Routing Information Protocol,路由信息协议),负责数据的包装、寻址和路由.同时还包含网间控制报文协议(Internet Control Message Protocol,ICMP)用来提供网络诊断信息.**
3. 第三层:传输层
   **对应于 OSI 七层参考模型的传输层,它提供两种端到端的通信服务.其中 TCP 协议(Transmission Control Protocol)提供可靠的数据流运输服务,UDP 协议(Use Datagram Protocol)提供不可靠的用户数据报服务.**
4. 第四层:应用层
   **对应于 OSI 七层参考模型的应用层和表达层.因特网的应用层协议包括 Finger、Whois、FTP(文件传输协议)、Gopher、HTTP(超文本传输协议)、Telent(远程终端协议)、SMTP(简单邮件传送协议)、IRC(因特网中继会话)、NNTP（网络新闻传输协议）等**
